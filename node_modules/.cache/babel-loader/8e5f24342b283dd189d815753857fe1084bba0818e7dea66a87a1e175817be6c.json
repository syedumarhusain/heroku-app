{"ast":null,"code":"import { validateLimitRateParams } from '../validateLimitRateParams/validateLimitRateParams';\nconst getLeftTime = async (id, throttle, storage) => {\n  const lastTime = Number((await storage.get(id)) || 0);\n  return throttle - Date.now() + lastTime;\n};\nexport const isLimitRateHit = async (defaultID, options, storage) => {\n  if (!options.throttle || !storage) {\n    return false;\n  }\n  validateLimitRateParams(options.throttle, options.id);\n  const id = options.id || defaultID;\n  const leftTime = await getLeftTime(id, options.throttle, storage);\n  if (leftTime > 0) {\n    return true;\n  }\n  await storage.set(id, Date.now().toString());\n  return false;\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}